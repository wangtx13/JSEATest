/* * @ # split paths action 1 0 2006 07 12 * * copyright c 1996 2006 by the original authors of * and all its contributors * all rights reserved * * software is the confidential and proprietary information of * confidential information you shall not disclose * such confidential information and shall use it only in accordance * with the terms of the license agreement you entered into with * */package samples svg action draw * draw action * samples svg figures * undo * * * * undo * /** * split paths action * * @author werner randelshofer * @version 1 0 2006 07 12 created */public split action ungroup action { = selection split /** creates a instance */ split action drawing editor editor { editor s v g path labels = resource bundle get l a f bundle samples svg labels locale get labels configure action } can ungroup { can ungroup { composite figure get view get selected figures iterator next get child count > 1 } } @ override collection< figure> ungroup figures drawing view view composite figure group { linked list< figure> figures = linked list< figure> group get children view clear selection group basic remove all children linked list< figure> paths = linked list< figure> figure f figures { s v g path path = s v g path path remove all children map entry< attribute key object> entry group get attributes entry set { path basic set attribute entry get key entry get value } path add f view get drawing basic add path paths add path } view get drawing remove group view add to selection paths figures } @ override group figures drawing view view composite figure group collection< figure> figures { collection< figure> sorted = view get drawing sort figures view get drawing basic remove all figures view clear selection view get drawing add group group will change s v g path group remove all children map entry< attribute key object> entry figures iterator next get attributes entry set { group basic set attribute entry get key entry get value } figure f sorted { s v g path path = s v g path f figure child path get children { group basic add child } } group changed view add to selection group }} 