/* * @ # chop ellipse connector 2 1 2006 05 18 * * copyright c 1996 2006 by the original authors of * and all its contributors * all rights reserved * * software is the confidential and proprietary information of * confidential information you shall not disclose * such confidential information and shall use it only in accordance * with the terms of the license agreement you entered into with * ??? */package draw com sun tools javac jvm gen * * geom * draw attribute keys * geom * /** * a chop ellipse connector locates a connection point2 d by * chopping the connection at the ellipse defined by the * figure's display box * * @author werner randelshofer * @version 2 1 2006 05 18 reworked * <br>2 0 2006 01 14 changed to support coordinates * <br>1 0 2003 12 01 derived from 5 4b1 */public chop ellipse connector chop box connector { /** * only used dom storable input */ chop ellipse connector { } chop ellipse connector figure owner { owner } color get stroke color figure f { color f get attribute s t r o k e c o l o r } get stroke width figure f { w = f get attribute s t r o k e w t h w == ? 1f w value } point2 d chop figure target point2 d from { target = get connector target target rectangle2 d r = target get bounds get stroke color target != { grow s t r o k e p l a c e m e n t get target { c e n t e r grow = get stroke total width target / 2d o u t s e grow = get stroke total width target i n s e grow = 0f } geom grow r grow grow } angle = geom point to angle r from geom oval angle to point r angle }} 