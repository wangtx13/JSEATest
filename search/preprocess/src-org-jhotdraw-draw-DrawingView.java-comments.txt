/* * @ # drawing view 3 1 2006 03 15 * * copyright c 1996 2006 by the original authors of * and all its contributors * all rights reserved * * software is the confidential and proprietary information of * confidential information you shall not disclose * such confidential information and shall use it only in accordance * with the terms of the license agreement you entered into with * ??? */package draw * geom * event * * beans * /** * drawing view renders a drawing and listens to its changes * it receives user input and forwards it to registered listeners * * @author werner randelshofer * @version 3 1 2006 03 15 support enabled state added * <br>3 0 2006 02 20 changed to share a single drawing editor by multiple * views * <br>2 0 2006 01 14 changed to support precision coordinates * <br>1 0 2003 12 01 derived from 5 4b1 */public drawing view { /** * gets the tools */ set get tools /** * gets the drawing */ drawing get drawing /** * sets and installs another drawing in the view */ set drawing drawing d /** * sets the cursor of the drawing view */ set cursor cursor c /** * test whether a given figure is selected */ is figure selected figure check figure /** * adds a figure to the current selection */ add to selection figure figure /** * adds a collection of figures to the current selection */ add to selection collection< figure> figures /** * removes a figure from the selection */ remove from selection figure figure /** * a figure isn't selected it is added to the selection * otherwise it is removed from the selection */ toggle selection figure figure /** * clears the current selection */ clear selection /** * selects all figures */ select all /** * gets the current selection as a figure selection a figure selection * can be cut copied pasted */ collection< figure> get selected figures /** * gets the number of selected figures */ get selection count /** * finds a handle at the given coordinates * @return a handle no handle is found */ handle find handle point p /** * gets compatible handles * @return a collection containing the handle and all compatible handles */ collection< handle> get compatible handles handle handle /** * finds a figure at the given point * @return a figure no figure is found */ figure find figure point p /** * all figures that lie within or intersect the specified * bounds the figures are in z order from back to front */ collection< figure> find figures rectangle r /** * all figures that lie within the specified * bounds the figures are in z order from back to front */ collection< figure> find figures within rectangle r /** * informs the view that it has been added to the specified editor * the view must draw the tool of the editor get active view of the * editor the view */ add notify drawing editor editor /** * informs the view that it has been removed from the specified editor * the view must not draw the tool from the editor anymore */ remove notify drawing editor editor add mouse listener mouse listener l remove mouse listener mouse listener l add key listener key listener l remove key listener key listener l add mouse motion listener mouse motion listener l remove mouse motion listener mouse motion listener l /** * add a listener selection changes in drawing view * @param fsl framework figure selection listener */ add figure selection listener figure selection listener fsl /** * remove a listener selection changes in drawing view * @param fsl framework figure selection listener */ remove figure selection listener figure selection listener fsl request focus /** * converts drawing coordinates to view coordinates */ point drawing to view point2 d p /** * converts view coordinates to drawing coordinates */ point2 d view to drawing point p /** * converts drawing coordinates to view coordinates */ rectangle drawing to view rectangle2 d p /** * converts view coordinates to drawing coordinates */ rectangle2 d view to drawing rectangle p /** * sets the editor's constrainer */ set constrainer constrainer constrainer /** * gets the editor's constrainer */ constrainer get constrainer /** * the container of the drawing view */ container get container /** * gets an transform which can be used to convert * drawing coordinates to view coordinates */ affine transform get drawing to view transform /** * gets the scale factor of the drawing view */ get scale factor /** * sets the scale factor of the drawing view * is a bound property */ set scale factor value /** * the detail level of the handles */ set handle detail level value /** * the detail level of the handles */ get handle detail level /** * sets the enabled state of the drawing view * is a bound property */ set enabled value /** * gets the enabled state of the drawing view */ is enabled add property change listener property change listener listener remove property change listener property change listener listener } 