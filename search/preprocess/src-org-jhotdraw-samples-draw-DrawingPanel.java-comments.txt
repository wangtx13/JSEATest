/* * @ # drawing panel 1 0 11 march 2004 * * copyright c 1996 2006 by the original authors of * and all its contributors * all rights reserved * * software is the confidential and proprietary information of * confidential information you shall not disclose * such confidential information and shall use it only in accordance * with the terms of the license agreement you entered into with * */package samples draw draw attribute keys * undo * * * event * * * event * app action copy action app action cut action app action duplicate action app action paste action app action select all action draw * draw action * /** * drawing panel * * * @author werner randelshofer * @version 1 0 11 m???rz 2004 created */public drawing panel j panel { undo redo manager undo manager drawing drawing drawing editor editor /** creates instance */ drawing panel { resource bundle labels = resource bundle get l a f bundle draw labels init components undo manager = undo redo manager editor = drawing editor editor add view add creation buttons to creation toolbar editor tool bar button factory add attributes buttons to attributes toolbar editor j popup button pb = j popup button pb set item font u i manager get font menu item font labels configure tool bar button pb actions pb add duplicate action pb add separator pb add group action editor pb add ungroup action editor pb add separator pb add move to front action editor pb add move to back action editor pb add separator pb add cut action pb add copy action pb add paste action pb add select all action pb add select same action editor pb add separator pb add undo manager get undo action pb add undo manager get redo action pb add separator pb add toggle grid action editor j menu m = j menu labels get zoom j radio button menu item rbmi button group group = button group m add rbmi = j radio button menu item zoom action editor 0 1 group add rbmi m add rbmi = j radio button menu item zoom action editor 0 25 group add rbmi m add rbmi = j radio button menu item zoom action editor 0 5 group add rbmi m add rbmi = j radio button menu item zoom action editor 0 75 group add rbmi m add rbmi = j radio button menu item zoom action editor 1 0 rbmi set selected group add rbmi m add rbmi = j radio button menu item zoom action editor 1 25 group add rbmi m add rbmi = j radio button menu item zoom action editor 1 5 group add rbmi m add rbmi = j radio button menu item zoom action editor 2 group add rbmi m add rbmi = j radio button menu item zoom action editor 3 group add rbmi m add rbmi = j radio button menu item zoom action editor 4 group add rbmi pb add m pb set focusable creation toolbar add separator creation toolbar add pb drawing drawing = drawing view set drawing drawing drawing add undoable edit listener undo manager } set drawing drawing d { undo manager discard all edits view get drawing remove undoable edit listener undo manager view set drawing d d add undoable edit listener undo manager } drawing get drawing { view get drawing } drawing view get view { view } drawing editor get editor { editor } /** is called from within the constructor to * initialize the form * w a r n i n g n o t modify the content of is * always regenerated by the form editor */ <editor fold defaultstate= collapsed desc= generated > g e n b e g i n init components init components { grid bag constraints grid bag constraints tool button group = button group scroll pane = j scroll pane view = draw drawing view j panel1 = j panel creation toolbar = j tool bar attributes toolbar = j tool bar set layout border layout scroll pane set viewport view view add scroll pane border layout c e n t e r j panel1 set layout grid bag layout creation toolbar set floatable grid bag constraints = grid bag constraints grid bag constraints gridx = 0 grid bag constraints gridy = 0 grid bag constraints anchor = grid bag constraints w e s t j panel1 add creation toolbar grid bag constraints attributes toolbar set floatable grid bag constraints = grid bag constraints grid bag constraints gridx = 0 grid bag constraints gridy = 1 grid bag constraints anchor = grid bag constraints w e s t j panel1 add attributes toolbar grid bag constraints add j panel1 border layout s o u t h } </editor fold> g e n e n d init components add creation buttons to j tool bar tb drawing editor editor { add creation buttons to tb editor tool bar button factory create drawing actions editor tool bar button factory create selection actions editor } add creation buttons to j tool bar tb drawing editor editor collection< action> drawing actions collection< action> selection actions { resource bundle labels = resource bundle get l a f bundle draw labels tool bar button factory add selection tool to tb editor drawing actions selection actions tb add separator attributed figure af creation tool ct connection tool cnt connection figure lc tool bar button factory add tool to tb editor creation tool rectangle figure create rectangle labels tool bar button factory add tool to tb editor creation tool round rectangle figure create round rectangle labels tool bar button factory add tool to tb editor creation tool ellipse figure create ellipse labels tool bar button factory add tool to tb editor creation tool diamond figure create diamond labels tool bar button factory add tool to tb editor creation tool triangle figure create triangle labels tool bar button factory add tool to tb editor creation tool line figure create line labels tool bar button factory add tool to tb editor ct = creation tool line figure create arrow labels af = attributed figure ct get prototype af set attribute e n d d e c o r a t i o n arrow tip 0 35 12 11 3 tool bar button factory add tool to tb editor connection tool line connection figure create line connection labels tool bar button factory add tool to tb editor cnt = connection tool line connection figure create elbow connection labels lc = cnt get prototype lc set liner elbow liner tool bar button factory add tool to tb editor bezier tool bezier figure create scribble labels tool bar button factory add tool to tb editor bezier tool bezier figure create polygon labels tool bar button factory add tool to tb editor text tool text figure create text labels tool bar button factory add tool to tb editor text area tool text area figure create text area labels } variables declaration not modify g e n b e g i n variables j tool bar attributes toolbar j tool bar creation toolbar j panel j panel1 j scroll pane scroll pane button group tool button group draw drawing view view end of variables declaration g e n e n d variables } 