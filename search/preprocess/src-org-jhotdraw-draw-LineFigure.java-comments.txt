/* * @ # line figure 2 0 2006 02 27 * * copyright c 1996 2006 by the original authors of * and all its contributors * all rights reserved * * software is the confidential and proprietary information of * confidential information you shall not disclose * such confidential information and shall use it only in accordance * with the terms of the license agreement you entered into with * ??? */package draw undo * * event * geom * * geom * /** * line figure * * @author werner randelshofer * @version 2 0 2006 02 27 support point editing at handle level 0 * <br>2 0 2006 01 14 changed to support coordinates * <br>1 0 2003 12 01 derived from 5 4b1 */public line figure bezier figure { /** creates a instance */ line figure { basic add node bezier path node point2 d 0 0 basic add node bezier path node point2 d 0 0 } d r a w i n g s h a p e a n d b o u n d s a t t r i b u t e s e d i t i n g collection< handle> create handles detail level { linked list< handle> handles = linked list< handle> detail level { 0 i=0 n = path size i < n i++ { handles add bezier node handle i } } handles } c o n n e c t i n g c o m p o s i t e f i g u r e s c l o n i n g e v e n t h a n d l i n g can connect { } /** * handles a mouse click */ handle mouse click point2 d p mouse event evt drawing view view { evt get click count == 2 view get handle detail level == 0 { will change index = basic split segment p 5f / view get scale factor index != 1 { bezier path node node = get node index fire undoable edit happened undoable edit { redo cannot redo { redo will change basic add node index node changed } undo cannot undo { undo will change basic remove node index changed } } changed } } }} 