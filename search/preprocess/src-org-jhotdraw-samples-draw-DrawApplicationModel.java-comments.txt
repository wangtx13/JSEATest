/* * @ # draw application model 1 0 june 10 2006 * * copyright c 1996 2006 by the original authors of * and all its contributors * all rights reserved * * software is the confidential and proprietary information of * confidential information you shall not disclose * such confidential information and shall use it only in accordance * with the terms of the license agreement you entered into with * */package samples draw * * * app * draw * draw action * draw attribute keys * /** * draw application model * * * * @author werner randelshofer * @version 1 0 june 10 2006 created */public draw application model application model { /** * editor is shared by all projects */ drawing editor shared editor /** creates a instance */ draw application model { } drawing editor get shared editor { shared editor == { shared editor = drawing editor } shared editor } init project application a project p { a is sharing tools among projects { draw project p set editor get shared editor } } /** * creates toolbars the application * always an empty list subclasses may other * values */ list< j tool bar> create tool bars application a project pr { resource bundle labels = resource bundle get l a f bundle draw labels draw project p = draw project pr drawing editor editor p == { editor = get shared editor } { editor = p get editor } linked list< j tool bar> list = linked list< j tool bar> j tool bar tb tb = j tool bar add creation buttons to tb editor tb set name labels get draw tool bar title list add tb tb = j tool bar tool bar button factory add attributes buttons to tb editor tb set name labels get attributes tool bar title list add tb tb = j tool bar tool bar button factory add alignment buttons to tb editor tb set name labels get alignment tool bar title list add tb list } add creation buttons to j tool bar tb drawing editor editor { add creation buttons to tb editor tool bar button factory create drawing actions editor tool bar button factory create selection actions editor } add creation buttons to j tool bar tb drawing editor editor collection< action> drawing actions collection< action> selection actions { resource bundle labels = resource bundle get l a f bundle draw labels tool bar button factory add selection tool to tb editor drawing actions selection actions tb add separator attributed figure af creation tool ct connection tool cnt connection figure lc tool bar button factory add tool to tb editor creation tool rectangle figure create rectangle labels tool bar button factory add tool to tb editor creation tool round rectangle figure create round rectangle labels tool bar button factory add tool to tb editor creation tool ellipse figure create ellipse labels tool bar button factory add tool to tb editor creation tool diamond figure create diamond labels tool bar button factory add tool to tb editor creation tool triangle figure create triangle labels tool bar button factory add tool to tb editor creation tool line figure create line labels tool bar button factory add tool to tb editor ct = creation tool line figure create arrow labels af = attributed figure ct get prototype af set attribute e n d d e c o r a t i o n arrow tip 0 35 12 11 3 tool bar button factory add tool to tb editor connection tool line connection figure create line connection labels tool bar button factory add tool to tb editor cnt = connection tool line connection figure create elbow connection labels lc = cnt get prototype lc set liner elbow liner tool bar button factory add tool to tb editor bezier tool bezier figure create scribble labels tool bar button factory add tool to tb editor bezier tool bezier figure create polygon labels tool bar button factory add tool to tb editor text tool text figure create text labels tool bar button factory add tool to tb editor text area tool text area figure create text area labels } } 