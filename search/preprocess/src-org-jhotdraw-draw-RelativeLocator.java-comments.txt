/* * @ # relative locator 2 2 2006 07 08 * * copyright c 1996 2006 by the original authors of * and all its contributors * all rights reserved * * software is the confidential and proprietary information of * confidential information you shall not disclose * such confidential information and shall use it only in accordance * with the terms of the license agreement you entered into with * ??? */package draw * geom * draw attribute keys * geom * xml dom input xml dom output /** * a locator that specfies a point that is relative to the bounds * of a figure * * @author werner randelshofer * @version 2006 07 08 added dom storable support * <br>2006 07 05 added support d e c o r a t o r i n s e t s * <br>2006 02 14 fixed computed coordinate values * <br>2 0 2006 01 14 changed to support precision coordinates * <br>1 0 2003 12 01 derived from 5 4b1 */public relative locator locator { relative x relative y relative locator { relative x = 0 0 relative y = 0 0 } /** creates a instance */ relative locator relative x relative y { relative x = relative x relative y = relative y } geom point2 d locate figure owner { rectangle2 d bounds = owner get bounds owner get decorator != { insets2 d insets = d e c o r a t o r i n s e t s get owner insets != { bounds x = insets left bounds y = insets top bounds width += insets left + insets right bounds height += insets top + insets bottom } } point2 d bounds x + bounds width * relative x bounds y + bounds height * relative y } locator east { relative locator 1 0 0 5 } /** * north */ locator north { relative locator 0 5 0 0 } /** * west */ locator west { relative locator 0 0 0 5 } /** * north east */ locator north east { relative locator 1 0 0 0 } /** * north west */ locator north west { relative locator 0 0 0 0 } /** * south */ locator south { relative locator 0 5 1 0 } /** * south east */ locator south east { relative locator 1 0 1 0 } /** * south west */ locator south west { relative locator 0 0 1 0 } /** * center */ locator center { relative locator 0 5 0 5 } write dom output out { out add attribute relative x relative x 0 5 out add attribute relative y relative y 0 5 } read dom input in { relative x = in get attribute relative x 0 5 relative y = in get attribute relative y 0 5 }} 