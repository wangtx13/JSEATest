/* * @ # color chooser action 2 0 2006 06 07 * * copyright c 1996 2006 by the original authors of * and all its contributors * all rights reserved * * software is the confidential and proprietary information of * confidential information you shall not disclose * such confidential information and shall use it only in accordance * with the terms of the license agreement you entered into with * */package draw action * * * beans * * draw * /** * color chooser action * * @author werner randelshofer * @version 2 0 2006 06 07 reworked * <br>1 0 2004 03 02 created */public color chooser action selected action { attribute key key j color chooser color chooser /** creates a instance */ color chooser action drawing editor editor attribute key key { editor key } /** creates a instance */ color chooser action drawing editor editor attribute key key icon icon { editor key icon } /** creates a instance */ color chooser action drawing editor editor attribute key key name { editor key name } color chooser action drawing editor editor attribute key key name icon icon { editor key = key put value action n a m e name put value action m n e m o n i c k e y ' v' put value action s m a l l i c o n icon set enabled } action performed event action event e { color chooser == { color chooser = j color chooser } color initial color = color get editor get attribute key initial color == { initial color = color red } color chosen color = color chooser show dialog component e get source labels get draw color initial color chosen color != { change attribute chosen color } } change attribute color value { drawing drawing = get drawing iterator i = get view get selected figures iterator i has next { figure figure = figure i next figure set attribute key value } get editor set attribute key value } selection changed figure selection event evt { set enabled get view get selection count > 0 }} 