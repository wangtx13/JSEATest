/* * @ # attribute action 2 0 2006 06 07 * * copyright c 1996 2006 by the original authors of * and all its contributors * all rights reserved * * software is the confidential and proprietary information of * confidential information you shall not disclose * such confidential information and shall use it only in accordance * with the terms of the license agreement you entered into with * */package draw action undo * * * beans * * draw * /** * attribute action * <p> * x x x should listen to changes in the attributes of its drawing editor * * @author werner randelshofer * @version 2 0 2006 06 07 reworked * <br>1 0 26 november 2003 created */public attribute action selected action { attribute key keys /** creates a instance */ attribute action drawing editor editor attribute key key { editor key } attribute action drawing editor editor attribute key keys { editor keys } /** creates a instance */ attribute action drawing editor editor attribute key key icon icon { editor key icon } /** creates a instance */ attribute action drawing editor editor attribute key key name { editor key name } attribute action drawing editor editor attribute key key name icon icon { editor attribute key {key} name icon } attribute action drawing editor editor attribute key keys name icon icon { editor keys = keys put value action n a m e name put value action s m a l l i c o n icon set enabled editor add property change listener property change listener { property change property change event evt { evt get property name equals attribute action keys 0 { put value attribute + attribute action keys 0 evt get value } } } } action performed event action event evt { get view != get view get selection count > 0 { composite edit edit = composite edit labels get draw attribute change fire undoable edit happened edit change attribute fire undoable edit happened edit } } change attribute { drawing drawing = get drawing iterator i = get view get selected figures iterator i has next { figure figure = figure i next j=0 j < keys length j++ { figure set attribute keys j get editor get attribute keys j } } } selection changed figure selection event evt { set enabled get view get selection count > 0 }} 