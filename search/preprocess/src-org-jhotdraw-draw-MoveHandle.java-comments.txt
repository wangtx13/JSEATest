/* * @ # move handle 2 0 2006 01 14 * * copyright c 1996 2006 by the original authors of * and all its contributors * all rights reserved * * software is the confidential and proprietary information of * confidential information you shall not disclose * such confidential information and shall use it only in accordance * with the terms of the license agreement you entered into with * ??? */package draw * geom * * /** * a handle that changes the location of the owning figure its only purpose is * to show feedback that a figure is selected * * @author werner randelshofer * @version 2 0 2006 01 14 changed to support precision coordinates * <br>1 0 2003 12 01 derived from 5 4b1 */public move handle locator handle { /** * the previously handled x and y coordinates */ point2 d old point geometry /** creates a instance */ move handle figure owner locator locator { owner locator } /** * creates handles each corner of a * figure and adds them to the provided collection */ add move handles figure f collection< handle> handles { handles add south east f handles add south west f handles add north east f handles add north west f } /** * draws handle * handles are drawn as unfilled rectangles */ draw graphics2 d g { draw rectangle g color white color black } track start point anchor modifiers ex { geometry = owner get geometry old point = view get constrainer constrain point view view to drawing anchor } track step point anchor point modifiers ex { figure f = get owner point2 d point = view get constrainer constrain point view view to drawing affine transform tx = affine transform tx translate point x old point x point y old point y f will change f basic transform tx f changed old point = point } track end point anchor point modifiers ex { affine transform tx = affine transform tx translate x anchor x y anchor y fire undoable edit happened transform edit get owner tx } handle south figure owner { move handle owner relative locator south } handle south east figure owner { move handle owner relative locator south east } handle south west figure owner { move handle owner relative locator south west } handle north figure owner { move handle owner relative locator north } handle north east figure owner { move handle owner relative locator north east } handle north west figure owner { move handle owner relative locator north west } handle east figure owner { move handle owner relative locator east } handle west figure owner { move handle owner relative locator west }} 