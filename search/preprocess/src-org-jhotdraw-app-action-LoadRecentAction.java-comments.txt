/* * @ # load recent action 1 0 june 15 2006 * * copyright c 1996 2006 by the original authors of * and all its contributors * all rights reserved * * software is the confidential and proprietary information of * confidential information you shall not disclose * such confidential information and shall use it only in accordance * with the terms of the license agreement you entered into with * */package app action * gui * gui event * * event * * prefs * * io * app application app project /** * load recent action * * @author werner randelshofer * @version 1 0 june 15 2006 created */public load recent action save before action { = load recent /** creates a instance */ load recent action application app { app = put value action n a m e get name } it project project { application app = get application app set enabled there is another project with we set the multiple open of our project to max multiple open + 1 multiple open = 1 project a project app projects { a project != project a project get != a project get equals { multiple open = math max multiple open a project get multiple open + 1 } } project set multiple open multiple open open the project execute worker { construct { { project read } throwable e { e } } finished value { opened project value } } } opened project project value { application app = get application value == { project set project set enabled frame w = frame utilities get window ancestor project get component w != { w set extended state w get extended state ~ frame i c o n i f i e d w to front } project get component request focus app != { app set enabled } } { value throwable { throwable value print stack trace } j sheet show message sheet project get component <html> + u i manager get option pane css + <b> couldn't open the \ +file+ \ </b><br> + value j option pane e r r o r m e s s a g e sheet listener { option selected sheet event evt { app dispose project } } } }} 