/* * @ # sticky chop connector 2 0 2006 01 14 * * copyright c 1996 2006 by the original authors of * and all its contributors * all rights reserved * * software is the confidential and proprietary information of * confidential information you shall not disclose * such confidential information and shall use it only in accordance * with the terms of the license agreement you entered into with * */package draw io i o geom geom * * geom * xml dom input xml dom output /** * a sticky chop connector locates connection points by * choping the connection between the centers of the * two figures at the display box * * the location of the connection point2 d is computed once * when the user connects the figure moving the figure * around will not change the location * * @author werner randelshofer * @version 2 0 2006 01 14 changed to support coordinates * <br>1 0 5 februar 2004 created */public sticky chop connector chop box connector { angle /** creates a instance * only used storable */ sticky chop connector { } draw graphics2 d g { g set color color blue g set stroke basic stroke g draw get bounds } set angle angle { angle = angle } get angle { angle } sticky chop connector figure owner point2 d p { owner angle = geom point to angle owner get bounds p } update anchor point2 d p { angle = geom point to angle get owner get bounds p } point2 d get anchor { geom angle to point get owner get bounds angle } point2 d chop figure target point2 d from { geom angle to point target get bounds angle } get { to angle / math p i * 180 } read dom input in i o { read in angle = in get attribute angle 0 0 } write dom output out i o { write out out add attribute angle angle }} 