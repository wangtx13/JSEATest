/* * @ # handle multicaster 1 0 2003 12 01 * * copyright c 1996 2006 by the original authors of * and all its contributors * all rights reserved * * software is the confidential and proprietary information of * confidential information you shall not disclose * such confidential information and shall use it only in accordance * with the terms of the license agreement you entered into with * ??? */package draw * undo * * event * * /** * forwards events to one or many handles * * @author werner randelshofer * @version 1 0 2003 12 01 derived from 5 4b1 */public handle multicaster { linked list< handle> handles composite edit edit /** creates a instance */ handle multicaster handle handle { handles = linked list< handle> handles add handle } /** creates a instance */ handle multicaster collection< handle> handles { handles = linked list< handle> handles } draw graphics2 d g { handle h handles { h draw g } } key pressed event key event e { handle h handles { h key pressed e } } key released event key event e { handle h handles { h key released e } } key typed event key event e { handle h handles { h key typed e } } track end point current point anchor modifiers ex drawing view view { handle h reversed list< handle> handles { h track end current anchor modifiers ex } view get drawing fire undoable edit happened edit } track start point anchor modifiers ex drawing view view { view get drawing fire undoable edit happened edit = composite edit handle h handles { h track start anchor modifiers ex } } track click point p modifiers ex drawing view view { handle h handles { h track click p modifiers ex } } track step point anchor point modifiers ex drawing view view { handle h handles { h track step anchor modifiers ex } } } 