/* * @ # s v g application model 1 0 june 10 2006 * * copyright c 1996 2006 by the original authors of * and all its contributors * all rights reserved * * software is the confidential and proprietary information of * confidential information you shall not disclose * such confidential information and shall use it only in accordance * with the terms of the license agreement you entered into with * */package samples svg * app action * samples svg action * samples svg figures * * * * app * draw * draw action * draw attribute keys * /** * s v g application model * * @author werner randelshofer * @version 1 0 june 10 2006 created */public s v g application model application model { /** * editor is shared by all projects */ drawing editor shared editor /** creates a instance */ s v g application model { } drawing editor get shared editor { shared editor == { shared editor = drawing editor } shared editor } init project application a project p { a is sharing tools among projects { s v g project p set editor get shared editor } } /** * creates toolbars the application * always an empty list subclasses may other * values */ list< j tool bar> create tool bars application a project pr { resource bundle labels = resource bundle get l a f bundle draw labels s v g project p = s v g project pr drawing editor editor p == { editor = get shared editor } { editor = p get editor } linked list< j tool bar> list = linked list< j tool bar> j tool bar tb tb = j tool bar add creation buttons to tb editor tb set name labels get draw tool bar title list add tb tb = j tool bar add attributes buttons to tb editor tb set name labels get attributes tool bar title list add tb tb = j tool bar tool bar button factory add alignment buttons to tb editor tb set name labels get alignment tool bar title list add tb list } collection< action> create drawing actions drawing editor editor { linked list< action> a = linked list< action> a add cut action a add copy action a add paste action a add select all action a add select same action editor a } collection< action> create selection actions drawing editor editor { linked list< action> a = linked list< action> a add duplicate action a add separator a add group action editor s v g group a add ungroup action editor s v g group a add combine action editor a add split action editor a add separator a add move to front action editor a add move to back action editor a } add creation buttons to j tool bar tb drawing editor editor { attribute keys the entitie sets hash map< attribute key object> attributes resource bundle labels = resource bundle get l a f bundle samples svg labels resource bundle draw labels = resource bundle get l a f bundle draw labels tool bar button factory add selection tool to tb editor create drawing actions editor create selection actions editor tb add separator attributes = hash map< attribute key object> attributes put attribute keys f i l l c o l o r color white attributes put attribute keys s t r o k e c o l o r color black tool bar button factory add tool to tb editor creation tool s v g rect attributes create rectangle draw labels tool bar button factory add tool to tb editor creation tool s v g ellipse attributes create ellipse draw labels tool bar button factory add tool to tb editor path tool s v g path bezier figure attributes create polygon draw labels attributes = hash map< attribute key object> attributes put attribute keys f i l l c o l o r attributes put attribute keys s t r o k e c o l o r color black tool bar button factory add tool to tb editor creation tool s v g line attributes create line draw labels tool bar button factory add tool to tb editor path tool s v g path bezier figure attributes create scribble draw labels attributes = hash map< attribute key object> attributes put attribute keys f i l l c o l o r color black attributes put attribute keys s t r o k e c o l o r tool bar button factory add tool to tb editor creation tool s v g text attributes create text draw labels } /** * creates toolbar buttons and adds them to the specified j tool bar */ add attributes buttons to j tool bar bar drawing editor editor { resource bundle labels = resource bundle get l a f bundle draw labels j button b b = bar add pick attributes action editor b set focusable b = bar add apply attributes action editor b set focusable bar add separator add color buttons to bar editor bar add separator add stroke buttons to bar editor bar add separator tool bar button factory add font buttons to bar editor } add color buttons to j tool bar bar drawing editor editor { resource bundle labels = resource bundle get l a f bundle draw labels tool bar button factory add color button to bar editor s t r o k e c o l o r tool bar button factory d e f a u l t c o l o r s 8 attribute stroke color labels tool bar button factory add color button to bar editor f i l l c o l o r tool bar button factory d e f a u l t c o l o r s 8 attribute fill color labels } add stroke buttons to j tool bar bar drawing editor editor { tool bar button factory add stroke width button to bar editor tool bar button factory add stroke dashes button to bar editor }} 