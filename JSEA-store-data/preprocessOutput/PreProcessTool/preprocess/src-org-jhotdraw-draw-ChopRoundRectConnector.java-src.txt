chop round rect connector 2 0 2006 01 14 1996 2006 disclose accordance ??? draw geom draw attribute keys geom chop round rect connector locates connection point2 d chopping connection at horizontal vertica lines defined display box round rectangle figure author 2 0 2006 01 14 support coordinates <br>1 0 2004 03 02 derived shortest distance connector 6 0b1 chop round rect connector chop box connector used dom storable input chop round rect connector chop round rect connector figure owner owner point2 d chop figure target point2 d target = get connector target target round rectangle figure rrf = round rectangle figure target rectangle2 d outer = rrf get bounds grow s t r o k e p l e m e n t get target e n t e r grow = attribute keys get stroke total width target 2d o u t s e grow = attribute keys get stroke total width target i n s e grow = 0 geom grow outer grow grow rectangle2 d inner = rectangle2 d outer clone gw = rrf get arc width + grow 2 2 gh = rrf get arc height + grow 2 2 inner x = gw inner y = gh inner width += gw 2 inner height += gh 2 angle = geom point angle outer point2 d p = geom angle point outer geom point angle outer p x == outer x || p x == outer x + outer width p y = math math p y inner y inner y + inner height p x = math math p x inner x inner x + inner width p 