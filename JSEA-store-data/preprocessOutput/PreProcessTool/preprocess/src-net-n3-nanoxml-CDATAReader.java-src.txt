d t reader nano xml $ revision 1 3 $ $ date 2002 01 04 21 03 28 $ $ r e l e s e 2 2 1 $ nano xml 2 2000 2002 purpose 1 2 3 net n3 io reader io i o reader reads data another reader until end d t section has been encountered author $ r e l e s e 2 2 1 $ $ revision 1 3 $ d t reader reader encapsulated reader i xml reader reader saved saved end stream has been reached at end data creates reader reader encapsulated reader d t reader i xml reader reader reader = reader saved = 0 at end data = cleans up when s destroyed finalize throwable reader = finalize reads block data buffer where put read data offset first position buffer put data size maximum number chars read number chars read 1 at e o f io i o occurred reading data read buffer offset size i o chars read = 0 at end data 1 offset + size > buffer length size = buffer length offset chars read < size ch = saved ch == 0 ch = reader read saved = 0 ch == ch2 = reader read ch2 == ch3 = reader read ch3 == > at end data = saved = ch2 reader unread ch3 reader unread ch2 buffer chars read = ch chars read++ chars read == 0 chars read = 1 chars read skips remaining data closes stream io i o occurred reading data close i o ! at end data ch = saved ch == 0 ch = reader read saved = 0 ch == ch2 = reader read ch2 == ch3 = reader read ch3 == > saved = ch2 reader unread ch3 reader unread ch2 at end data = 