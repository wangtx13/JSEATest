m d idesktop pane 1 0 2006 06 17 1996 2006 disclose accordance gui beans app action arrangeable extension j desktop pane supports often used m d i functionality also handles setting scroll bars when windows move too far left bottom providing m d idesktop pane scroll pane note dnoyeb i dont know why container does fire frame close events when frames are container remove opposed simply closed x so say remove container wont notified biggie author wolfram kaiser adapted article world l gilbert <dnoyeb users sourceforge net> 1 0 2006 06 17 m d idesktop pane j desktop pane arrangeable f r m e o f f s e t=20 m d idesktop manager manager m d idesktop pane manager = m d idesktop manager set desktop manager manager set drag mode j desktop pane o u t l i n e d r g m o d e set alignment x j component l e f t l i g n m e n t set arrangement arrangeable arrangement value arrangeable arrangement old value = get arrangement value s d e arrange frames cascading h o r i z o n t l arrange frames horizontally v e r t i l arrange frames vertically fire property change arrangement old value value arrangeable arrangement get arrangement f i x m e check arrangement j internal frames here value arrangeable arrangement s d e cascade internal frames arrange frames cascading x = 0 y = 0 j internal frame frames = get frames nothing frames work frames length == 0 manager set normal size frame height = get bounds height 5 frames length f r m e o f f s e t frame width = get bounds width 5 frames length f r m e o f f s e t i = frames length 1 i >= 0 i frames i set maximum property veto e e stack trace frames i set bounds x y frame width frame height x = x + f r m e o f f s e t y = y + f r m e o f f s e t check desktop size tile frames horizontally component frames = get frames nothing frames work frames length == 0 manager set normal size frame height = get bounds height frames length y = 0 i = 0 i < frames length i++ j internal frame frames i set maximum property veto e e stack trace frames i set bounds 0 y get bounds width frame height y = y + frame height check desktop size tile frames vertically component frames = get frames nothing frames work frames length == 0 manager set normal size frame width = get bounds width frames length x = 0 i = 0 i < frames length i++ j internal frame frames i set maximum property veto e e stack trace frames i set bounds x 0 frame width get bounds height x = x + frame width check desktop size arranges frames efficiently possibly preference keeping vertical size maximal <br> arrange frames vertically component frames = get frames nothing frames work frames length == 0 manager set normal size vert frames = math floor math sqrt frames length hor frames = math ceil math sqrt frames length first arrange windows have equal size frame width = get bounds width hor frames frame height = get bounds height vert frames x = 0 y = 0 frame idx = 0 hor cnt = 0 hor cnt < hor frames 1 hor cnt++ y = 0 vert cnt = 0 vert cnt < vert frames vert cnt++ j internal frame frames frame idx set maximum property veto e e stack trace frames frame idx set bounds x y frame width frame height frame idx++ y = y + frame height x = x + frame width rest frames are tiled down on last column equal height frame height = get bounds height frames length frame idx y = 0 frame idx < frames length frame idx++ j internal frame frames frame idx set maximum property veto e e stack trace frames frame idx set bounds x y frame width frame height y = y + frame height check desktop size arranges frames efficiently possibly preference keeping horizontal size maximal <br> arrange frames horizontally component frames = get frames nothing frames work frames length == 0 manager set normal size vert frames = math ceil math sqrt frames length hor frames = math floor math sqrt frames length first arrange windows have equal size frame width = get bounds width hor frames frame height = get bounds height vert frames x = 0 y = 0 frame idx = 0 vert cnt = 0 vert cnt < vert frames 1 vert cnt++ x = 0 hor cnt = 0 hor cnt < hor frames hor cnt++ j internal frame frames frame idx set maximum property veto e e stack trace frames frame idx set bounds x y frame width frame height frame idx++ x = x + frame width y = y + frame height rest frames are tiled down on last column equal height frame width = get bounds width frames length frame idx x = 0 frame idx < frames length frame idx++ j internal frame frames frame idx set maximum property veto e e stack trace frames frame idx set bounds x y frame width frame height x = x + frame width check desktop size sets component size properties maximum minimum preferred given dimension set size dimension d set minimum size d set maximum size d set preferred size d set bounds 0 0 d width d height sets component size properties maximum minimum preferred given width height set size width height set size dimension width height check desktop size get parent != visible manager resize desktop used replace standard desktop manager j desktop pane used provide scrollbar functionality m d idesktop manager desktop manager m d idesktop pane desktop m d idesktop manager m d idesktop pane desktop desktop = desktop end resizing frame j component f end resizing frame f resize desktop end dragging frame j component f end dragging frame f resize desktop set normal size j scroll pane scroll pane = get scroll pane insets scroll insets = get scroll pane insets scroll pane != dimension d = scroll pane get visible rect get size scroll pane get border != d set size d get width scroll insets left scroll insets right d get height scroll insets top scroll insets bottom d set size d get width 20 d get height 20 desktop set size d scroll pane invalidate scroll pane validate insets get scroll pane insets j scroll pane scroll pane = get scroll pane scroll pane == || get scroll pane get border == insets 0 0 0 0 get scroll pane get border get border insets scroll pane j scroll pane get scroll pane desktop get parent j viewport j viewport view port = j viewport desktop get parent view port get parent j scroll pane j scroll pane view port get parent resize desktop x = 0 y = 0 j scroll pane scroll pane = get scroll pane insets scroll insets = get scroll pane insets scroll pane != j internal frame frames = desktop get frames i = 0 i < frames length i++ frames i get x + frames i get width > x x = frames i get x + frames i get width frames i get y + frames i get height > y y = frames i get y + frames i get height dimension d=scroll pane get visible rect get size scroll pane get border != d set size d get width scroll insets left scroll insets right d get height scroll insets top scroll insets bottom x <= d get width x = d get width 20 y <= d get height y = d get height 20 desktop set size x y scroll pane invalidate scroll pane validate 