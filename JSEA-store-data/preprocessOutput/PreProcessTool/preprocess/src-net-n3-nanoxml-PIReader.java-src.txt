p i reader nano xml $ revision 1 3 $ $ date 2002 01 04 21 03 28 $ $ r e l e s e 2 2 1 $ nano xml 2 2000 2002 purpose 1 2 3 net n3 io reader io i o reader reads data another reader until end processing instruction ? has been encountered author $ r e l e s e 2 2 1 $ $ revision 1 3 $ p i reader reader encapsulated reader i xml reader reader end stream has been reached at end data creates reader reader encapsulated reader p i reader i xml reader reader reader = reader at end data = cleans up when s destroyed finalize throwable reader = finalize reads block data buffer where put read data offset first position buffer put data size maximum number chars read number chars read 1 at e o f io i o occurred reading data read buffer offset size i o at end data 1 chars read = 0 offset + size > buffer length size = buffer length offset chars read < size ch = reader read ch == ? ch2 = reader read ch2 == > at end data = reader unread ch2 buffer chars read = ch chars read++ chars read == 0 chars read = 1 chars read skips remaining data closes stream io i o occurred reading data close i o ! at end data ch = reader read ch == ? ch2 = reader read ch2 == > at end data = 