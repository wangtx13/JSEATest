line decoration 2 0 2006 01 14 1996 2006 disclose accordance ??? draw io geom geom geom draw attribute keys standard line decoration draws shape which rotated moved end line shape scaled stroke width author 2 0 2006 01 14 support coordinates <br>1 0 2003 12 01 derived 5 4b1 line decoration line decoration decoration filled filled decoration stroked stroked stroke color used fill decoration solid constructs arrow tip given angle radius line decoration filled stroked solid filled = filled stroked = stroked solid = solid filled filled stroked stroked solid solid draws arrow tip direction specified given two points template draw graphics2 d g figure f point2 d p1 point2 d p2 general path path = get transformed decorator path f p1 p2 color color filled solid color = s t r o k e o l o r get f color = f i l l o l o r get f color != g set color color g fill path stroked color = s t r o k e o l o r get f color != g set color color g set stroke attribute keys get stroke f g draw path drawing bounds decorator rectangle2 d get draw bounds figure f point2 d p1 point2 d p2 general path path = get transformed decorator path f p1 p2 rectangle2 d b = path get bounds2 d rectangle2 d bounds = rectangle2 d b get x b get y b get width b get height stroked stroke width = s t r o k e t h get f stroke join = s t r o k e j o i n get f miter limit = s t r o k e m i t e r l i m i t f t o r get f stroke width grow stroke join == basic stroke j o i n m i t e r grow = 1 + stroke width 2 miter limit grow = 1 + stroke width 2 geom grow bounds grow grow bounds get decoration radius figure f stroke width = s t r o k e t h get f scale factor stroke width > 1f scale factor = 1d + stroke width 1d 2d scale factor = 1d get decorator path radius f scale factor general path get transformed decorator path figure f point2 d p1 point2 d p2 general path path = get decorator path f stroke width = s t r o k e t h get f affine transform transform = affine transform transform translate p1 x p1 y transform rotate math atan2 p1 x p2 x p2 y p1 y transform rotate math p i 2 stroke width > 1f transform scale 1d + stroke width 1d 2d 1d + stroke width 1d 2d path transform transform path set filled b filled = b set stroked b stroked = b set solid b solid = b hook calculates path decorator general path get decorator path figure f hook calculates radius decorator path get decorator path radius figure f 