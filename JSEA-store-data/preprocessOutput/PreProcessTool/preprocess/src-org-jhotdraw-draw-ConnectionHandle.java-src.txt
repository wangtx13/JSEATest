connection handle 1 0 20 juni 2006 1996 2006 disclose accordance draw undo geom geom handle connect figures connection created specified prototype author 1 0 20 juni 2006 created connection handle locator handle composite edit edit currently created connection connection figure current connection prototype connection created connection figure prototype current target figure target figure creates instance connection handle figure owner locator locator connection figure prototype owner locator prototype = prototype draw graphics2 d g draw circle g color blue color blue darker track start point anchor modifiers ex set connection create connection resource bundle labels = resource bundle get l f bundle draw labels edit = composite edit labels get create connection fire undoable edit happened edit point2 d p = get location on drawing get connection set start point p get connection set end point p view get drawing add get connection track step point anchor point modifiers ex point2 d p = view view drawing figure f = find connectable figure p view get drawing track figure containing mouse f != get target figure get target figure != get target figure set connectors visible set target figure f get target figure != get target figure set connectors visible get connection connector target = find connection target p view get drawing target != p = geom center target get bounds get connection set end point p track end point anchor point modifiers ex point2 d p = view view drawing connector target = find connection target p view get drawing target != get connection set start connector get start connector get connection set end connector target get connection update connection view get drawing remove get connection set undo activity edit set significant set connection get target figure != get target figure set connectors visible set target figure fire undoable edit happened edit creates connection figure figure prototype cloned connection figure create connection connection figure prototype clone set connection connection figure connection current connection = connection connection figure get connection current connection figure get target figure target figure set target figure figure target figure target figure = target figure figure find connectable figure point2 d p drawing drawing figure figure drawing get figures front back !figure includes get connection figure connect figure contains p figure connector find connector point2 d p figure f f find connector p get connection finds connection end figure connector find connection target point2 d p drawing drawing figure target = find connectable figure p drawing target != target connect !target includes get owner get connection connect get owner target target find connector p get connection connector get start connector point2 d p = get location on drawing get owner find connector p get connection 