nano xml dom output 2 1 2006 08 26 1996 2006 disclose accordance xml io dom output using nano xml author 2 1 2006 08 26 set doctype <br>2 0 2006 06 10 support prototype support <br>1 2 2006 03 20 support values <br>1 1 2006 01 18 remove 0 at end numbers <br>1 0 february 17 2004 created nano xml dom output dom output doctype xml document doctype map used marshall references xml dom key map value map representing marshalled reference hash map< string> objectids map used cache prototype hash map< object> prototypes document used output xml element document current node used output xml element current factory used create dom factory factory stack stack< xml element> stack creates instance nano xml dom output dom factory factory factory = factory objectids = hash map< string> document = xml element hash map current = document stack = stack< xml element> stack push current writes contents dom output specified output stream save output stream out i o = output stream out u t f8 save flush writes contents dom output specified save out i o doctype != out write <! d o t y p e out write doctype out write > xml element document get children get 0 write out prints contents dom output specified out xml element document get children get 0 out puts element dom document element child current element dom document then becomes current element element closed using close element open element tag xml element element = xml element hash map element set tag current add child element stack push current current = element closes current element dom document parent current element becomes current element illegal argument tag does match tag element close element current = xml element stack pop adds comment current element dom document add comment comment nano xml does support comments adds text current element dom document note multiple consecutives texts merged add text text old = current get content old == current set content text current set content old+text adds attribute current element dom document add attribute value value != current set attribute value adds attribute current element dom document add attribute value current set attribute value adds attribute current element dom document add attribute value current set attribute value adds attribute current element dom document add attribute value remove awkard 0 at end each number str = value str ends 0 str = str substring 0 str length 2 current set attribute str adds attribute current element dom document add attribute value remove awkard 0 at end each number str = value str ends 0 str = str substring 0 str length 2 current set attribute str write o i o o == open element close element o dom storable write storable dom storable o o open element add text o close element o open element add text o close element o open element add text o close element o open element remove awkard 0 at end each number str = o str ends 0 str = str substring 0 str length 2 add text str close element o open element remove awkard 0 at end each number str = o str ends 0 str = str substring 0 str length 2 add text str close element o open element add text o close element o color color = color o open element color add attribute rgba + hex get r g b close element o open element = o i=0 i < length i++ write i close element o open element = o i=0 i < length i++ write i close element o open element = o i=0 i < length i++ write i close element o font font f = font o open element font add attribute f get add attribute style f get style add attribute size f get size close element o open element e = o add attribute type factory get e add text factory get value e close element illegal argument unable store +o+ +o get xml element write storable dom storable o i o tag = factory get o tag == illegal argument tag +o open element tag xml element element = current objectids contains key o add attribute ref objectids get o = objectids size 16 objectids put o add attribute o write close element element add attribute value value value != value add attribute value add attribute value value value != value add attribute value add attribute value value value != value add attribute value add attribute value value value != value add attribute value add attribute value value value != ! value equals value add attribute value get prototype prototypes == prototypes = hash map< object> ! prototypes contains key current get prototypes put current get factory create current get prototypes get current get set doctype doctype doctype = doctype 