grid constrainer 2 1 1 2006 07 05 1996 2006 disclose accordance draw geom constrains point falls on grid author 2 1 1 2006 07 05 fixed drawing bug <br>2 1 2006 07 03 visible <br>2 0 2006 01 14 support precision coordinates <br>1 0 2004 03 17 created grid constrainer constrainer width height color minor color = color 0xebebeb color major color = color 0xcacaca creates instance width width grid cell height height grid cell grid constrainer width height width <= 0 || height <= 0 illegal argument width height <= 0 width = width height = height get width width get height height point2 d constrain point point2 d p f i x m e works widths! p x = math round p x width width p y = math round p y height height p + +width+ +height+ visible width > 1 height > 1 draw graphics2 d g drawing view view visible affine transform t = view get drawing view transform rectangle view bounds = g get clip bounds rectangle2 d bounds = view view drawing view bounds point2 d = constrain point point2 d bounds x bounds y point2 d point = point2 d point2 d view point = point2 d width view get scale factor > 1 g set color minor color i= x width m = x + bounds width width + 1 i <= m i++ g set color i % 5 == 0 ? major color minor color point x = width i t transform point view point g draw line view point x view bounds y view point x view bounds y + view bounds height height view get scale factor > 1 g set color minor color i= y height m = y + bounds height height + 1 i <= m i++ g set color i % 5 == 0 ? major color minor color point y = height i t transform point view point g draw line view bounds x view point y view bounds x + view bounds width view point y 