floating palette handler 1 1 2006 06 11 2005 2006 staldenmattweg 2 immensee h 6405 switzerland disclose accordance app prefs hides registered floating palettes none registered project windows has focus anymore author 1 1 2006 06 11 palettes now subclass window <br>1 0 october 9 2005 created o s x palette handler hash set< window> palettes = hash set< window> hash map< window project> windows = hash map< window project> o s x palette handler instance timer timer o s x application app window focus listener focus handler = window focus listener invoked when window set focused window which means window one subcomponents receive keyboard events window gained focus window e timer stop windows contains key e get window app set current project project windows get e get window show palettes invoked when window longer focused window which means keyboard events longer delivered window subcomponents window lost focus window e timer restart creates instance o s x palette handler o s x application app app = app timer = timer 60 action listener action performed action evt maybe hide palettes timer set repeats add window window project project window add window focus listener focus handler windows put window project remove window window project project windows remove window window remove window focus listener focus handler add palette window palette palette add window focus listener focus handler palettes add palette remove palette window palette palettes remove palette palette remove window focus listener focus handler set< window> get palettes unmodifiable set palettes show palettes window palette palettes ! palette visible palette set visible focused window focused window owned windows = get owned windows i=0 i < owned windows length i++ focused owned windows i maybe hide palettes has focus = window window windows key set focused window has focus = ! has focus windows size > 0 window palette palettes focused palette has focus = ! has focus window palette palettes palette set visible 