labeled line connection 1 1 2006 02 14 1996 2006 disclose accordance draw geom undo line connection labels author 1 1 2006 02 14 include labels logical bounds <br>1 0 23 januar 2006 created labeled line connection figure line connection figure composite figure layouter layouter list< figure> children = list rectangle2 d bounds rectangle2 d draw bounds handles figure changes children child handler child handler = child handler child handler figure listener undoable edit listener labeled line connection figure owner child handler labeled line connection figure owner owner = owner figure request remove figure e owner remove e get figure figure figure evt figure figure e ! owner changing owner change owner fire figure e owner figure figure e figure attribute figure e figure area invalidated figure e ! owner changing owner fire area invalidated e get invalidated area undoable edit happened undoable edit e owner fire undoable edit happened e get edit creates instance labeled line connection figure d r i n g draw figure delegated encapsulated presentation figure draw figure graphics2 d g draw figure g figure child children child visible child draw g s h p e n d b o u n d s transforms figure basic transform affine transform tx basic transform tx figure f children f basic transform tx invalidate bounds basic set bounds point2 d anchor point2 d basic set bounds anchor invalidate rectangle2 d get bounds get bounds bounds == bounds = get bounds figure child get children front back child visible bounds add child get bounds rectangle2 d bounds clone rectangle2 d get figure draw bounds draw bounds == draw bounds = get figure draw bounds figure child get children front back child visible rectangle2 d child bounds = child get draw bounds ! child bounds empty draw bounds add child bounds rectangle2 d draw bounds clone contains point2 d p get draw bounds contains p figure child get children front back child visible child contains p contains p invalidate bounds bounds = draw bounds = t t r i b u t e s sets attribute figure attribute key semantics are defined implementing figure set attribute attribute key key value change set attribute key value attribute enabled key children != figure child children child set attribute key value e d i t i n g figure find figure inside point2 d p get draw bounds contains p figure found = figure child get children front back child visible found = child find figure inside p found != found o n n e t i n g update connection update connection layout o m p o s i t e f i g u r e s list< figure> get children unmodifiable list children get child count children size figure get child index children get index set index figure child children set index child iterator iterate z order front back over children list< figure> get children front back children == ? linked list< figure> reversed list< figure> children add figure figure basic add figure get drawing != figure add notify get drawing add index figure figure basic add index figure get drawing != figure add notify get drawing basic add figure figure basic add children size figure basic add index figure figure children add index figure figure add figure listener child handler figure add undoable edit listener child handler invalidate remove figure figure index = children index figure index == 1 change basic remove child index get drawing != figure remove notify get drawing figure remove child index change figure figure = basic remove child index get drawing != figure remove notify get drawing figure basic remove figure figure index = children index figure index == 1 basic remove child index figure basic remove child index figure figure = children remove index figure remove figure listener child handler figure remove undoable edit listener child handler figure remove children change children size > 0 figure figure = basic remove child children size 1 get drawing != figure remove notify get drawing basic remove children children size > 0 basic remove child children size 1 l y o u t get layouter which encapsulated layout algorithm figure typically layouter accesses child components figure arranges their graphical presentation layout strategy used figure layouter get layouter layouter set layouter layouter layouter layouter = layouter layout algorithm used define how child components should laid out relation each other task layouting child components presentation delegated layouter which plugged at runtime layout get layouter != rectangle2 d bounds = get bounds point2 d p = point2 d bounds x bounds y rectangle2 d r = get layouter layout p p invalidate bounds e v e n t h n d l i n g invalidate invalidate invalidate bounds validate validate layout add notify drawing drawing figure child linked list< figure> children child add notify drawing add notify drawing remove notify drawing drawing figure child linked list< figure> children child remove notify drawing remove notify drawing informs figure area display box changing count == 1 layout fire figure get draw bounds invalidate bounds changing count labeled line connection figure clone labeled line connection figure = labeled line connection figure clone child handler = child handler children = list< figure> figure child children figure child = figure child clone children add child child add figure listener child handler child add undoable edit listener child handler remap hash map< figure figure> old remap old figure child children child remap old informs figure area display box f i x m e changing count == 1 layout fire figure get draw bounds invalidate bounds changing count 