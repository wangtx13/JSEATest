diamond figure 1 0 2006 03 27 1996 2006 disclose accordance ??? draw geom io draw attribute keys geom geom omg o r b m r s h l diamond vertices at midpoints enclosing rectangle author 1 0 2006 03 27 created diamond figure attributed figure attribute i s q u d r t i set sides diamond have same length attribute key< boolean> i s q u d r t i = attribute key< boolean> quadratic bounds diamond figure rectangle2 d rectangle creates instance diamond figure 0 0 0 0 diamond figure x y width height rectangle = rectangle2 d x y width height set fill color color white set stroke color color black d r i n g draw fill graphics2 d g rectangle2 d r = rectangle2 d rectangle clone quadratic side = math r width r height r x = side r width 2 r y = side r height 2 r width = r height = side grow = attribute keys get perpendicular fill growth growx growy grow == 0d growx = growy = 0d = r width 2d h = r height 2d line length = math sqrt + h h scale = grow line length yb = scale xa = scale h growx = yb yb xa + xa growy = xa xa yb + yb geom grow r growx growy general path diamond = general path diamond move r x + r width 2 r y diamond line r x + r width r y + r height 2 diamond line r x + r width 2 r y + r height diamond line r x r y + r height 2 diamond close path g fill diamond draw stroke graphics2 d g rectangle2 d r = rectangle2 d rectangle clone quadratic side = math r width r height r x = side r width 2 r y = side r height 2 r width = r height = side grow = attribute keys get perpendicular draw growth growx growy grow == 0d growx = growy = 0d = r width 2d h = r height 2d line length = math sqrt + h h scale = grow line length yb = scale xa = scale h growx = yb yb xa + xa growy = xa xa yb + yb geom grow r growx growy general path diamond = general path diamond move r x + r width 2 r y diamond line r x + r width r y + r height 2 diamond line r x + r width 2 r y + r height diamond line r x r y + r height 2 diamond close path g draw diamond s h p e n d b o u n d s rectangle2 d get bounds rectangle2 d bounds = rectangle2 d rectangle clone bounds rectangle2 d get figure draw bounds rectangle2 d r = rectangle2 d rectangle clone quadratic side = math r width r height r x = side r width 2 r y = side r height 2 r width = r height = side grow = attribute keys get perpendicular hit growth growx growy grow == 0d growx = growy = 0d = r width 2d h = r height 2d line length = math sqrt + h h scale = grow line length yb = scale xa = scale h growx = yb yb xa + xa growy = xa xa yb + yb geom grow r growx growy r checks point2 d inside figure contains point2 d p rectangle2 d r = rectangle2 d rectangle clone quadratic side = math r width r height r x = side r width 2 r y = side r height 2 r width = r height = side r contains p grow = attribute keys get perpendicular fill growth growx growy grow == 0d growx = growy = 0d = r width 2d h = r height 2d line length = math sqrt + h h scale = grow line length yb = scale xa = scale h growx = yb yb xa + xa growy = xa xa yb + yb geom grow r growx growy general path diamond = general path diamond move r x + r width 2 r y diamond line r x + r width r y + r height 2 diamond line r x + r width 2 r y + r height diamond line r x r y + r height 2 diamond close path diamond contains p basic set bounds point2 d anchor point2 d rectangle x = math anchor x x rectangle y = math anchor y y rectangle width = math 0 1 math abs x anchor x rectangle height = math 0 1 math abs y anchor y moves figure location tx transformation matrix basic transform affine transform tx point2 d anchor = get start point point2 d = get end point basic set bounds point2 d tx transform anchor anchor point2 d tx transform restore geometry rectangle2 d r = rectangle2 d geometry rectangle x = r x rectangle y = r y rectangle width = r width rectangle height = r height get restore data rectangle clone t t r i b u t e s quadratic b = get attribute i s q u d r t i b == ? b value set quadratic value set attribute i s q u d r t i value e d i t i n g o n n e t i n g figures connector specified location chop diamond connector see chop diamond connector connector find connector point2 d p connection figure prototype chop diamond connector connector find compatible connector connector start chop diamond connector o m p o s i t e f i g u r e s l o n i n g diamond figure clone diamond figure = diamond figure clone rectangle = rectangle2 d rectangle clone e v e n t h n d l i n g 