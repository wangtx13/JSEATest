ellipse figure 2 3 2006 06 17 1996 2006 disclose accordance ??? draw geom geom geom draw attribute keys ellipse figure author 2 3 2006 06 17 chop point2 d <br>2 2 2006 05 19 support stroke placement <br>2 1 2006 03 22 get figure draw bounds <br>2 0 2006 01 14 support coordinates <br>1 0 2003 12 01 derived 5 4b1 ellipse figure attributed figure ellipse2 d ellipse creates instance ellipse figure 0 0 0 0 ellipse figure x y width height ellipse = ellipse2 d x y width height set fill color color white set stroke color color black set attribute enabled t e x t o l o r d r i n g s h p e n d b o u n d s t t r i b u t e s e d i t i n g o n n e t i n g connector find connector point2 d p connection figure prototype chop ellipse connector connector find compatible connector connector start connector chop ellipse connector o m p o s i t e f i g u r e s l o n i n g e v e n t h n d l i n g rectangle2 d get bounds rectangle2 d ellipse get bounds2 d rectangle2 d get figure draw bounds rectangle2 d r = rectangle2 d ellipse get bounds2 d grow = attribute keys get perpendicular hit growth geom grow r grow grow r draw fill graphics2 d g ellipse2 d r = ellipse2 d ellipse clone grow = attribute keys get perpendicular fill growth r x = grow r y = grow r width += grow 2 r height += grow 2 r width > 0 r height > 0 g fill r draw stroke graphics2 d g ellipse2 d r = ellipse2 d ellipse clone grow = attribute keys get perpendicular draw growth r x = grow r y = grow r width += grow 2 r height += grow 2 r width > 0 r height > 0 g draw r checks point2 d inside figure contains point2 d p ellipse2 d r = ellipse2 d ellipse clone grow = attribute keys get perpendicular hit growth r x = grow r y = grow r width += grow 2 r height += grow 2 r contains p basic set bounds point2 d anchor point2 d ellipse x = math anchor x x ellipse y = math anchor y y ellipse width = math 0 1 math abs x anchor x ellipse height = math 0 1 math abs y anchor y transforms figure tx transformation basic transform affine transform tx point2 d anchor = get start point point2 d = get end point basic set bounds point2 d tx transform anchor anchor point2 d tx transform ellipse figure clone ellipse figure = ellipse figure clone ellipse = ellipse2 d ellipse clone restore geometry ellipse2 d r = ellipse2 d geometry ellipse x = r x ellipse y = r y ellipse width = r width ellipse height = r height get restore data ellipse clone 