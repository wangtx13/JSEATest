drawing 2 1 2006 07 08 1996 2006 disclose accordance ??? draw beans undo xml geom font undo io drawing author 2 1 2006 07 08 extend bean <br>2 0 1 2006 02 06 did ugly dirty fix index out bounds when undoing removal figures <br>2 0 2006 01 14 support precision coordinates <br>1 0 2003 12 01 derived 5 4b1 drawing bean drawing lock = j panel get tree lock listener list listener list = listener list font render context font render context creates instance drawing add drawing listener drawing listener listener listener list add drawing listener listener remove drawing listener drawing listener listener listener list remove drawing listener listener add undoable edit listener undoable edit listener l listener list add undoable edit listener l remove undoable edit listener undoable edit listener l listener list remove undoable edit listener l add collection< figure> figures composite edit edit = composite edit figuren hinzuf\u00fcgen fire undoable edit happened edit figure f figures add f fire undoable edit happened edit removes figures clear remove get figures gets number figures get figure count get figures size remove collection< figure> composite edit edit = composite edit figuren entfernen fire undoable edit happened edit figure f list< figure> remove f fire undoable edit happened edit basic add collection< figure> figures figure f figures basic add f basic remove collection< figure> orphaned note we create collection avoid problems caused collection somehow connected our figures connection figure f list< figure> orphaned basic remove f calls basic add then calls figure add notify fires figure add figure figure index = get figure count basic add index figure figure add notify fire figure figure fire undoable edit happened undoable edit get presentation figur einf\u00fcgen undo cannot undo undo basic remove figure figure remove notify drawing fire figure figure redo cannot undo redo basic add index figure figure add notify drawing fire figure figure basic add figure figure basic add get figure count figure calls basic remove then calls figure add notify fires figure remove figure figure contains figure index = index figure basic remove figure figure remove notify fire figure figure fire undoable edit happened undoable edit get presentation figur entfernen redo cannot undo redo basic remove figure figure remove notify drawing fire figure figure undo cannot undo undo basic add index figure figure add notify drawing fire figure figure fire area invalidated figure get draw bounds index figure figure notify listener list have registered interest notification on type fire area invalidated rectangle2 d dirty region drawing = notify listeners have registered interest guaranteed non listeners = listener list get listener list process listeners last first notifying those are interested i = listeners length 2 i>=0 i =2 listeners i == drawing listener lazily create == = drawing dirty region drawing listener listeners i+1 area invalidated notify listener list have registered interest notification on type fire undoable edit happened undoable edit edit undoable edit = listener list get listener count > 0 notify listeners have registered interest guaranteed non listeners = listener list get listener list process listeners last first notifying those are interested i = listeners length 2 i>=0 i =2 == = undoable edit edit listeners i == undoable edit listener undoable edit listener listeners i+1 undoable edit happened notify listener list have registered interest notification on type fire figure figure f drawing = notify listeners have registered interest guaranteed non listeners = listener list get listener list process listeners last first notifying those are interested i = listeners length 2 i>=0 i =2 listeners i == drawing listener lazily create == = drawing f f get draw bounds drawing listener listeners i+1 figure notify listener list have registered interest notification on type fire figure figure f drawing = notify listeners have registered interest guaranteed non listeners = listener list get listener list process listeners last first notifying those are interested i = listeners length 2 i>=0 i =2 listeners i == drawing listener lazily create == = drawing f f get draw bounds drawing listener listeners i+1 figure font render context get font render context font render context set font render context font render context frc font render context = frc read dom input i o open element figures i=0 i < get element count i++ figure f add f = figure read i close element write dom output out i o out open element figures figure f get figures out write f out close element drawing view synchronizes on lock when drawing drawing get lock lock 