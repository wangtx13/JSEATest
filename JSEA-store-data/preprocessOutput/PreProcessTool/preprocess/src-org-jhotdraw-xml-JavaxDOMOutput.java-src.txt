dom output 2 1 2006 08 26 1996 2006 disclose accordance xml xml parsers xml transform xml transform dom xml transform stream w3c dom io dom output author 2 1 2006 08 26 set doctype <br>2 0 2006 06 10 support prototype support <br>1 2 2006 03 20 support values <br>1 1 2006 01 18 remove 0 at end numbers <br>1 0 february 17 2004 created dom output dom output doctype xml document doctype map used marshall references xml dom key map value map representing marshalled reference hash map< string> objectids map used cache prototype hash map< object> prototypes document used output document document current node used output node current factory used create dom factory factory creates instance dom output dom factory factory i o factory = factory objectids = hash map< string> document = document builder factory instance document builder document current = document parser configuration e i o = i o e get message init cause e writes contents dom output specified output stream save output stream out i o doctype != output stream = output stream out u t f8 write <! d o t y p e write doctype write > flush transformer t = transformer factory instance transformer t transform dom document stream result out transformer e i o = i o e get message init cause e writes contents dom output specified output stream save out i o doctype != out write <! d o t y p e out write doctype out write > transformer t = transformer factory instance transformer t transform dom document stream result out transformer e i o = i o e get message init cause e puts element dom document element child current element dom document then becomes current element element closed using close element open element tag element element = document create element tag current append child element current = element closes current element dom document parent current element becomes current element illegal argument tag does match tag element close element ! element current get equals tag illegal argument attempt close wrong element +tag + != + element current get current = current get parent node adds comment current element dom document add comment comment current append child document create comment comment adds text current element dom document note multiple consecutives texts merged add text text current append child document create text node text adds attribute current element dom document add attribute value value != element current set attribute value adds attribute current element dom document add attribute value element current set attribute value adds attribute current element dom document add attribute value element current set attribute value adds attribute current element dom document add attribute value remove awkard 0 at end each number str = value str ends 0 str = str substring 0 str length 2 element current set attribute str adds attribute current element dom document add attribute value remove awkard 0 at end each number str = value str ends 0 str = str substring 0 str length 2 element current set attribute str write o i o o == open element close element o dom storable write storable dom storable o o open element add text o close element o open element add text o close element o open element add text o close element o open element add text o close element o open element add text o close element o open element add text o close element o color color = color o open element color add attribute rgba + hex get r g b close element o open element = o i=0 i < length i++ write i close element o open element = o i=0 i < length i++ write i close element o open element = o i=0 i < length i++ write i close element o font font f = font o open element font add attribute f get add attribute style f get style add attribute size f get size close element o open element e = o add attribute type factory get e add text factory get value e close element illegal argument unable store +o+ +o get write storable dom storable o i o tag = factory get o tag == illegal argument tag +o open element tag objectids contains key o add attribute ref objectids get o = objectids size 16 objectids put o add attribute o write close element add attribute value value value != value add attribute value add attribute value value value != value add attribute value add attribute value value value != value add attribute value add attribute value value value != value add attribute value add attribute value value ! value equals value add attribute value get prototype prototypes == prototypes = hash map< object> ! prototypes contains key current get node prototypes put current get node factory create current get node prototypes get current get node set doctype doctype doctype = doctype 