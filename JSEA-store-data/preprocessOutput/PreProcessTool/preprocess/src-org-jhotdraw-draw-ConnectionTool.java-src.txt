connection tool 3 1 2006 07 15 1996 2006 disclose accordance ??? draw undo geom dnd tool used connect figures split connections join two segments connection connection tools turns visibility connectors on when enters figure connection created specified prototype <p> f i x m e tracker instance each state tool author 3 1 2006 07 15 support prototype <br>3 0 2006 06 07 reworked <br>2 1 2006 03 15 when user pressing mouse button we mouse over view current view <br>2 0 1 2006 02 14 fixed drawing <br>2 0 2006 01 14 support precision coordinates <br>1 0 2003 12 01 derived 5 4b1 connection tool tool figure listener map< attribute key object> attributes anchor point interaction connector start connector connector end connector connector target connector figure target currently created figure connection figure connection currently manipulated connection point split point currently edited connection connection figure edited connection figure was actually note different figure one which has been created figure created figure prototypical figure used create connections connection figure prototype pressed creates instance connection tool connection figure prototype prototype = prototype connection tool connection figure prototype map attributes prototype = prototype attributes = attributes connection tool prototype prototype connection tool prototype map< attribute key object> attributes prototype = connection figure prototype instance e internal = internal unable create connection figure +prototype init cause e attributes = attributes connection figure get prototype prototype mouse moved mouse evt track connectors evt manipulates connections context dependent way mouse down hits figure start connection mousedown hits connection split segment join two segments mouse pressed mouse evt mouse pressed evt pressed = get view clear selection point2 d ap = view drawing anchor get target figure != get target figure set connectors visible set target figure find connection start ap get drawing get target figure != set start connector find connector ap target prototype get start connector != connect get target figure point2 d p = get start connector get anchor set connection create figure get connection basic set bounds p p get connection add figure listener set created figure get connection adjust created connection split segment mouse dragged mouse e point2 d p = view drawing point e get x e get y get connection != track connectors e get target connector != p = get target connector get anchor connection figure f = get connection fire area invalidated f get draw bounds f change f basic set bounds f get start point p f fire area invalidated f get draw bounds rectangle2 d view drawing anchor p edited connection != edited connection change edited connection set point split point p edited connection connect figure start prototype connect start connect figure start figure end prototype connect start end connects figures mouse released over another figure mouse released mouse e pressed = working = figure = point2 d p = view drawing point e get x e get y get start connector != = find target p get drawing != set end connector find connector p prototype get end connector != composite edit creation edit = composite edit verbindung erstellen get drawing fire undoable edit happened creation edit connection figure f = get connection f change f set start connector get start connector f set end connector get end connector f basic set bounds f get start point p f update connection f f remove figure listener get drawing add f get drawing fire undoable edit happened creation edit get connection != get drawing remove get connection set connection set start connector set end connector set created figure fire tool done activate drawing editor editor activate editor get view clear selection deactivate drawing editor editor deactivate editor get target figure != get target figure set connectors visible creates connection figure figure prototype cloned connection figure create figure connection figure f = connection figure prototype clone get editor apply attributes f attributes != map entry< attribute key object> entry attributes entry set f set attribute attribute key entry get key entry get value f finds connectable figure target figure find point2 d p drawing drawing find connectable figure p drawing finds connectable figure target figure find target point2 d p drawing drawing figure target = find connectable figure p drawing figure start = get start connector get owner target != get connection != connect target ! target includes start connect start target target finds existing connection figure connection figure find connection point2 d p drawing drawing figure f drawing get figures front back f != f connection figure connection figure f set connection connection figure connection connection = connection gets connection which created tool connection figure get connection connection track connectors mouse e point2 d p = view drawing point e get x e get y figure = get start connector == = find p get drawing = find target p get drawing track figure containing mouse != get target figure get target figure != get target figure set connectors visible set target figure get start connector != get target figure != connect get start connector get owner get target figure get target figure set connectors visible get connection get target figure != connect get target figure get target figure set connectors visible get connection connector = != = find connector p prototype != get target connector set target connector view check damage draw graphics2 d g created figure != graphics2 d gg = graphics2 d g create gg transform get view get drawing view transform created figure draw gg gg dispose connector find connector point2 d p figure target connection figure f target find connector p f finds connection start figure figure find connection start point2 d p drawing drawing figure target = find connectable figure p drawing target != target connect target figure find connectable figure point2 d p drawing drawing drawing find figure except p created figure set start connector connector start connector start connector = start connector connector get start connector start connector set end connector connector end connector end connector = end connector connector get end connector end connector set target connector connector target connector target connector = target connector connector get target connector target connector set target figure figure target target = target figure get target figure target gets figure was actually note different figure one which has been created figure get created figure created figure set created figure figure created figure created figure = created figure figure area invalidated figure evt fire area invalidated evt get invalidated area figure figure e figure figure e figure figure e figure request remove figure e figure attribute figure e 