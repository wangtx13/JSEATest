text figure 1 0 1 2006 02 27 1996 2006 disclose accordance ??? draw font geom io draw attribute keys geom xml dom input xml dom output text figure see text tool author 2 0 1 2006 02 27 draw u n d e r l i n e l o o n e p i x e l instead u n d e r l i n e o n <br>2 0 2006 01 14 support coordinates <br>1 0 2003 12 01 derived 5 4b1 text figure attributed figure text holder point2 d = point2 d editable = cache text figure s layout text layout text layout creates instance text figure text text figure text set text text gets text shown text figure get text get attribute t e x t sets text shown text figure set text text set attribute t e x t text basic transform affine transform tx tx transform basic set bounds point2 d anchor point2 d = point2 d anchor x anchor y contains point2 d p get bounds contains p decorator != update decorator bounds decorator contains p draw stroke graphics2 d g draw fill graphics2 d g draw text graphics2 d g get text != || editable text layout layout = get text layout layout draw g x y + layout get ascent invalidate invalidate text layout = text layout get text layout text layout == text = get text text == || text length == 0 text = font render context frc = get font render context hash map< text attribute object> text attributes = hash map< text attribute object> text attributes put text attribute f o n t get font f o n t u n d e r l i n e d get text attributes put text attribute u n d e r l i n e text attribute u n d e r l i n e l o o n e p i x e l text layout = text layout text text attributes frc text layout rectangle2 d get bounds text layout layout = get text layout rectangle2 d r = rectangle2 d x y layout get advance layout get ascent + layout get descent r dimension2 d get preferred size rectangle2 d b = get bounds dimension2 d b width b height rectangle2 d get figure draw bounds get text == get bounds text layout layout = get text layout rectangle2 d r = rectangle2 d x y layout get advance layout get ascent rectangle2 d l bounds = layout get bounds ! l bounds empty ! na n l bounds get x r add rectangle2 d l bounds get x +origin x l bounds get y +origin y+layout get ascent l bounds get width l bounds get height grow two pixels take antialiasing account geom grow r 2d 2d r collection< handle> create handles detail level linked list< handle> handles = linked list< handle> detail level == 0 handles add move handle relative locator north west handles add move handle relative locator north east handles add move handle relative locator south east handles add font size handle handles validate validate text layout = editable editable set editable b editable = b get text columns get text == ? 4 math get text length 4 specialized tool given coordinate <p> specialized tool available tool get tool point2 d p editable contains p ? text tool read dom input i o set bounds point2 d get attribute x 0d get attribute y 0d point2 d 0 0 read attributes write dom output out i o rectangle2 d b = get bounds out add attribute x b x out add attribute y b y write attributes out gets number used expand tabs get tab size 8 text holder get label insets2 d get insets insets2 d 0 0 0 0 restore geometry point2 d p = point2 d geometry x = p x y = p y get restore data clone text figure clone text figure = text figure clone = point2 d clone text layout = font get font attribute keys get font color get text color t e x t o l o r get color get fill color f i l l o l o r get set font size size f o n t s i z e set size get font size f o n t s i z e get value 