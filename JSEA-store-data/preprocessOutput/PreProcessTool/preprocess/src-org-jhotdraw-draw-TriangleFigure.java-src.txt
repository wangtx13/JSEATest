triangle figure 1 0 2006 03 27 1996 2006 disclose accordance draw geom io draw attribute keys geom triangle same dimensions enclosing rectangle apex at 8 places author 1 0 2006 03 27 created triangle figure attributed figure bounds triangle figure rectangle2 d rectangle creates instance triangle figure 0 0 0 0 triangle figure orientation direction 0 0 0 0 direction triangle figure x y width height x y width height orientation n o r t h triangle figure x y width height orientation direction rectangle = rectangle2 d x y width height set fill color color white set stroke color color black o r i e n t t i o n set direction d r i n g s h p e n d b o u n d s t t r i b u t e s e d i t i n g o n n e t i n g connector find connector point2 d p connection figure prototype chop triangle connector connector find compatible connector connector start connector chop triangle connector figures connector specified location chop diamond connector see chop diamond connector connector find connector point2 d p connection figure prototype chop triangle connector connector find compatible connector connector start chop triangle connector o m p o s i t e f i g u r e s l o n i n g e v e n t h n d l i n g rectangle2 d get bounds rectangle2 d bounds = rectangle2 d rectangle clone bounds draw fill graphics2 d g rectangle2 d r = rectangle2 d rectangle clone shape triangle = get bezier path grow = attribute keys get perpendicular fill growth grow != 0d grow stroke gs = grow stroke grow attribute keys get stroke total width s t r o k e m i t e r l i m i t f t o r get triangle = gs create stroked shape triangle g fill triangle draw stroke graphics2 d g shape triangle = get bezier path grow = attribute keys get perpendicular draw growth grow != 0d grow stroke gs = grow stroke grow attribute keys get stroke total width s t r o k e m i t e r l i m i t f t o r get triangle = gs create stroked shape triangle g draw triangle collection< handle> create handles detail level linked list< handle> handles = linked list< handle> create handles detail level detail level == 0 handles add triangle rotation handler handles bezier path get bezier path rectangle2 d r = rectangle2 d rectangle clone bezier path triangle = bezier path o r i e n t t i o n get n o r t h triangle move r x + r width 2 r y triangle line r x + r width r y + r height triangle line r x r y + r height n o r t h e s t triangle move r x r y triangle line r x + r width r y triangle line r x + r width r y + r height e s t triangle move r x r y triangle line r x + r width r y + r height 2d triangle line r x r y + r height s o u t h e s t triangle move r x + r width r y triangle line r x + r width r y + r height triangle line r x r y + r height s o u t h triangle move r x + r width 2 r y + r height triangle line r x r y triangle line r x + r width r y s o u t h e s t triangle move r x + r width r y + r height triangle line r x r y + r height triangle line r x r y e s t triangle move r x r y + r height 2 triangle line r x + r width r y triangle line r x + r width r y + r height n o r t h e s t triangle move r x r y + r height triangle line r x r y triangle line r x + r width r y triangle set closed triangle checks point2 d inside figure contains point2 d p shape triangle = get bezier path grow = attribute keys get perpendicular hit growth grow != 0d grow stroke gs = grow stroke grow attribute keys get stroke total width s t r o k e m i t e r l i m i t f t o r get triangle =gs create stroked shape triangle triangle contains p basic set bounds point2 d anchor point2 d rectangle x = math anchor x x rectangle y = math anchor y y rectangle width = math 0 1 math abs x anchor x rectangle height = math 0 1 math abs y anchor y rectangle2 d get figure draw bounds total stroke width = attribute keys get stroke total width width = 0d s t r o k e o l o r get != s t r o k e p l e m e n t get i n s e width = 0d o u t s e s t r o k e j o i n get == basic stroke j o i n m i t e r width = total stroke width s t r o k e m i t e r l i m i t f t o r get width = total stroke width e n t e r s t r o k e j o i n get == basic stroke j o i n m i t e r width = total stroke width 2d s t r o k e m i t e r l i m i t f t o r get width = total stroke width 2d width++ rectangle2 d r = get bounds geom grow r width width r point2 d chop point2 d p shape triangle = get bezier path grow = attribute keys get perpendicular hit growth grow != 0d grow stroke gs = grow stroke grow attribute keys get stroke total width s t r o k e m i t e r l i m i t f t o r get triangle =gs create stroked shape triangle geom chop triangle p moves figure location tx transformation matrix basic transform affine transform tx point2 d anchor = get start point point2 d = get end point basic set bounds point2 d tx transform anchor anchor point2 d tx transform triangle figure clone triangle figure = triangle figure clone rectangle = rectangle2 d rectangle clone restore geometry rectangle2 d r = rectangle2 d geometry rectangle x = r x rectangle y = r y rectangle width = r width rectangle height = r height get restore data rectangle clone 